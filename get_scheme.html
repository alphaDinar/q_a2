<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,300,0,0" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/get_scheme.css">
  <link rel="stylesheet" href="css/slides.css">
  <title>Document</title>
</head>
<body>
  <section class="page">
    <section class="sideBar">
      <button type="button" id="sideBar_tag" class="material-symbols-outlined">linear_scale</button>
      <header>
        <strong>Crop Production</strong>
      </header>
      <nav class="resource_swiper swiper">
        <button class="material-symbols-outlined resource_swiper_prev">West</button>
        <button class="material-symbols-outlined resource_swiper_next">east</button>
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <span>Images</span>
            <input type="text" placeholder="Image search" class="image_search">
            <div class="res_box">
              <div class="res" id="image_res" data-src="images/cocoa.webp" data-name="Cocoa" draggable="true">
                <div style="background-image: url(images/cocoa.webp);"></div>
                <span>Cocoa</span>
              </div>
              <div class="res" id="image_res" data-src="images/cocoa.webp" data-name="Corn" draggable="true">
                <div style="background-image: url(images/corn.webp);"></div>
                <span>Corn</span>
              </div>
            </div>
          </div>
          <div class="swiper-slide">
            <span>Passages</span>
            <input type="text" placeholder="Passage search" class="passage_search">
            <div class="res_box">
              <div class="res" id="passage_res" draggable="true" data-name="cocoa" data-title="Cocoa" data-body="Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum voluptatibus, fugiat maiores molestias ad repudiandae nobis alias explicabo vero atque dolores dicta aspernatur sapiente aperiam recusandae tempora aliquid hic nostrum?">
                <div style="background-image: url(images/cocoa.webp);"></div>
                <span>Cocoa</span>
              </div>
              <div class="res" id="passage_res" draggable="true" data-name="corn">
                <div style="background-image: url(images/corn.webp);"></div>
                <span>Corn</span>
              </div>
            </div>
          </div>
          <div class="swiper-slide">
            <span>Videos</span>
            <input type="text" placeholder="video search" class="video_search">
            <div class="res_box">
              <div class="res" id="video_res" data-name="poultry" draggable="true">
                <video src="images/chicken.mp4"></video>
                <span>Poultry</span>
              </div>
              <div class="res" id="video_res" data-name="market" draggable="true">
                <video src="images/web.mp4"></video>
                <span>Market</span>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <footer>
        <a href="dash.html" class="material-symbols-outlined">arrow_back_ios_new</a>
      </footer>
    </section>
    <i class="material-symbols-outlined" id="hide_nav">expand</i>
    <section class="main">
      <nav>
        <i class="material-symbols-outlined" id="toggle_stats">donut_small</i>
        <i class="material-symbols-outlined" id="toggle_slide">slideshow</i>
        <i class="material-symbols-outlined" id="toggle_clear">reset_tv</i>
      </nav>
      <section class="stat_box">
        last_touched 
        ----
        images 
        passages 
        videos
        ----
        add res
        -----
        status -> pending
        ----
        toggle stat button
      </section>

      <section class="screen">
        
      </section>

      <section class="slide_menu_screen">
        <section class="slide_box">
          <div class="slide_box_nav">
            <input type="text" placeholder="Title">
            <!-- <select name="se">
              <option selected value="10">10 seconds</option>
              <option value="30">30 seconds</option>
              <option value="60">1 minute</option>
              <option value="300">5 minutes</option>
            </select> -->
            <button class="play">play</button>
          </div>
          <div class="slide_tray" id="slide_tray">
            <!-- <small id="slide_tip">Drop Items here</small>  -->
          </div>
        </section>
      </section>

      <section class="slide_screen swiper">
        <div class="slide_screen_nav">
          <i class="material-symbols-outlined">close</i>
          <i class="material-symbols-outlined">edit</i>
          <i class="slide_screen_nav_tag material-symbols-outlined">expand_less</i>
        </div>
        <div class="swiper-wrapper"></div>
        <button type="button" class="material-symbols-outlined slide_screen_next">chevron_right</button>
        <button type="button" class="material-symbols-outlined slide_screen_prev">chevron_left</button>
      </section>
      
    </section> 
  </section>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"
  integrity="sha512-z4OUqw38qNLpn1libAN9BsoDx6nbNFio5lA6CuTp9NlK83b89hgyCVq+N5FdBJptINztxn1Z3SaKSKUS5UP60Q=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script>
    const sideBar = document.querySelector('.sideBar')
    const sideBar_tag = document.getElementById('sideBar_tag')
  
    sideBar_tag.onclick =()=>{
      main.classList.toggle('change')
      sideBar.classList.toggle('change')
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script>
    const screen = document.querySelector('.screen')
    const toggle_slide = document.getElementById('toggle_slide')
    const slide_box_nav_title = document.querySelector('.slide_box_nav input')
    const slide_menu_screen = document.querySelector('.slide_menu_screen')
    const slide_box = document.querySelector('.slide_box')
    const toggle_clear = document.getElementById('toggle_clear')

    toggle_slide.onclick = ()=>{
      screen.innerHTML = ''
      slide_menu_screen.classList.toggle('change')
    }

    toggle_clear.onclick = ()=>{
      screen.innerHTML = ''
    }

    const slide_screen_nav = document.querySelector('.slide_screen_nav')
    const slide_screen_wrapper = document.querySelector('.slide_screen .swiper-wrapper')
    const close_slide_screen_nav = document.querySelector('.slide_screen_nav').children[0]
    const edit_slide_screen_nav = document.querySelector('.slide_screen_nav').children[0]
    const slide_screen_nav_tag = document.querySelector('.slide_screen_nav_tag')

    slide_screen_nav_tag.onclick =()=>{
      slide_screen_nav.classList.toggle('change')
    }
    close_slide_screen_nav.onclick =()=>{
      slide_screen_wrapper.innerHTML = ''
      slide_screen.classList.remove('show')
    }

  </script>
  <script>
    const res_lis = document.querySelectorAll('.res')
    console.log(res_lis)
    const slide_play = document.querySelector('.slide_box_nav .play')
    const slide_tray = document.getElementById('slide_tray')
    const slide_screen = document.querySelector('.slide_screen')
  
    res_lis.forEach(el=>{
      el.ondragstart = (event)=>{
        dragged_res = el.cloneNode(true)
        dragged_res_con = el.children[0]
      }
    })
  
    slide_tray.ondragover =(event)=>{
      event.preventDefault()
    }
  
    slide_tray.ondrop =(event)=>{
      var dragged_res_hold =document.createElement('div')
      dragged_res_hold.classList.add('dragged_res_hold')
      var dragged_res_del = document.createElement('button')
      dragged_res_del.innerHTML = '<i class="material-symbols-outlined">delete</i>'
      dragged_res_del.classList.add('dragged_res_del')
      dragged_res_hold.appendChild(dragged_res_del)
      dragged_res.classList.add('slide_res')
      dragged_res_hold.appendChild(dragged_res)
      slide_tray.appendChild(dragged_res_hold)
      deletSlideItem()
      startSlideShow()
    }

    const deletSlideItem =()=>{
      let dragged_res_del = document.querySelectorAll('.dragged_res_del')
      dragged_res_del.forEach(el=>{
        el.onclick =()=>{
          el.parentElement.remove()
        }
      })
    }

    const startSlideShow =()=>{
      slide_play.onclick =()=>{
        if(slide_box_nav_title.value){
          var slide_sheet = document.createElement('div')
          var slide_sheet_title = document.createElement('strong')
          slide_sheet_title.innerHTML = slide_box_nav_title.value
          slide_sheet.appendChild(slide_sheet_title)
          slide_sheet.classList.add('swiper-slide')
          slide_screen_wrapper.appendChild(slide_sheet) 
        }

        let slide_res = document.querySelectorAll('.slide_res')
        slide_res.forEach(el=>{
          if(el.id === 'image_res'){
            var slide_sheet = document.createElement('div')
            slide_sheet.style.backgroundImage = el.children[0].style.backgroundImage
            slide_sheet.classList.add('swiper-slide')
            var slide_sheet_tag = document.createElement('span')
            slide_sheet_tag.classList.add('slide_sheet_tag')
            slide_sheet_tag.innerHTML = el.children[1].innerHTML
            slide_sheet.appendChild(slide_sheet_tag)
            slide_screen_wrapper.appendChild(slide_sheet) 
          }else if (el.id === 'video_res') {
            var slide_sheet = document.createElement('video')
            slide_sheet.src = el.children[0].src
            slide_sheet.controls = true
            slide_sheet.classList.add('swiper-slide')              
            slide_screen_wrapper.appendChild(slide_sheet)
          }else{
            var slide_sheet = document.createElement('div')
            slide_sheet.classList.add('swiper-slide') 
            var title = document.createElement('span')
            title.innerHTML = el.dataset.title
            title.classList.add('passage_title')
            slide_sheet.appendChild(title)
            var body = document.createElement('p')
            body.innerHTML = el.dataset.body 
            body.classList.add('passage_body')
            slide_sheet.appendChild(body)
            slide_screen_wrapper.appendChild(slide_sheet)
          }
        })
        
        createSlideSwiper()
        slide_screen.classList.add('show')
      }
    }

    const createSlideSwiper =()=>{
      var slide_screen_swiper = new Swiper('.slide_screen', {
        loop : false,
        speed : 1000,
        navigation :{
          nextEl : '.slide_screen_next',
          prevEl : '.slide_screen_prev',
        }
      })
    }
    createSlideSwiper()
  </script>


  <script>
    const hide_nav = document.getElementById('hide_nav')
    const main = document.querySelector('.main')

    hide_nav.onclick =()=>{
      console.log('meee')
      main.classList.toggle('hide')
    }

    const toggle_stats = document.getElementById('toggle_stats')
    const stat_box = document.querySelector('.stat_box')

    toggle_stats.onclick=()=>{
      stat_box.classList.toggle('change')
    } 
  </script>

  <script src="js/search.js"></script>

  <script>
    const res_box = document.querySelector('.res_box')
    const res = document.querySelectorAll('.res')[0]

    image_res.forEach(el=>{
      el.onclick =()=>{
        slide_menu_screen.classList.remove('change')
        screen.innerHTML = ''
        var image_box = document.createElement('img')
        image_box.src = el.dataset.src
        image_box.classList.add('image_box')
        screen.appendChild(image_box)
      }
    })

    video_res.forEach(el=>{
      el.onclick =()=>{
        slide_menu_screen.classList.remove('change')
        screen.innerHTML = ''
        var video_box = document.createElement('video')
        video_box.src = el.children[0].src
        video_box.controls = true
        video_box.classList.add('mini_screen')
        screen.appendChild(video_box)
      }
    })

    passage_res.forEach(el=>{
      el.onclick =()=>{
        slide_menu_screen.classList.remove('change')
        screen.innerHTML = ''
        var title = document.createElement('span')
        title.innerHTML = el.dataset.title
        title.classList.add('passage_title')
        screen.appendChild(title)
        var body = document.createElement('p')
        body.innerHTML = el.dataset.body 
        body.classList.add('passage_body')
        screen.appendChild(body)
      }
    })

    

  </script>
  <script>
    var resource_swiper = new Swiper('.resource_swiper', {
      loop : true,
      navigation: {
        nextEl: '.resource_swiper_next',
        prevEl: '.resource_swiper_prev',
      },
      allowTouchMove: false,
    })
  </script>
</body>
</html>



